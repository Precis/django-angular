{% extends "subscribe-form.html" %}
{% load djangular_tags %}

{% block table_caption %}CRUD View Validation{% endblock %}

{% block form_ctrl %}ng-controller="SimpleFormCtrl"{% endblock %}

{% block table_foot %}
    <tr>
        <td></td>
        <td>
            <a class="btn" ng-disabled="{{ form.form_name }}.$invalid" ng-click="submit()">Submit via Ajax</a>
        </td>
    </tr>
    <tr>
        <td></td>
        <td>
        {% verbatim %}
            <pre>subscribe_data = {{ subscribe_data | json }}</pre>
        {% endverbatim %}
        </td>
    </tr>
    <tr>
        <td></td>
        <td>
	    {% verbatim %}
	       <span ng-show="submit_result" ng-hide="!submit_result" ng-cloak>{{ submit_result }}</span>
        {% endverbatim %}
        </td>
    </tr>
{% endblock table_foot %}

{% block scripts %}
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-resource.js"></script>
    <script src="{{ STATIC_URL }}djangular/js/django-angular.js" type="text/javascript"></script>
    <script src="{{ STATIC_URL }}demo.js"></script>
    <script>
	    angular.module('djangular-demo').config(function($httpProvider) {
	        $httpProvider.defaults.headers.common['X-CSRFToken'] = '{% csrf_value %}';
	    });
    </script>
{% endblock scripts %}
